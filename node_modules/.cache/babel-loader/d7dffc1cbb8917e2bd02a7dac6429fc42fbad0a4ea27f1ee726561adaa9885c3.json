{"ast":null,"code":"// src/pages/RunningDetailPage.js\nimport React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import axiosInstance from'../utils/axiosInstance';import'../css/Running/RunningDetailPage.css';// CSS 파일 import\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RunningDetailPage=()=>{const{id}=useParams();const[running,setRunning]=useState('');const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[user,setUser]=useState('');const navigate=useNavigate();const[runningUsers,setRunningUsers]=useState([]);const[currentUserEmail,setCurrentUserEmail]=useState(null);// 현재 로그인한 사용자 이메일 상태 추가\n// 런닝 게시판 데이터 가져오기\nuseEffect(()=>{const fetchRunningDetail=async()=>{try{const response=await axiosInstance.get(\"/api/runnings/get/\".concat(id));setRunning(response.data.data);// API에서 반환하는 데이터 구조에 따라 설정\nsetUser(response.data.data.user);}catch(error){console.error('Error fetching running detail:',error);setError('런닝 상세 정보를 불러오는 중 오류가 발생했습니다.');}finally{setLoading(false);}};fetchRunningDetail();},[id]);// 런닝 참여하기\nconst handleJoinTeam=async()=>{try{const response=await axiosInstance.post(\"/api/runnings/users/join/\".concat(id));console.log('Join team response:',response.data);alert('팀에 성공적으로 합류했습니다.');navigate('/');}catch(error){console.error('Error joining team:',error);alert(error.response.data.errorMessage);}};// 런닝유저 불러오기\nuseEffect(()=>{const fetchRunningUsers=async()=>{try{const response=await axiosInstance.post(\"/api/runnings/users/get/\".concat(id));setRunningUsers(response.data.data);// API에서 반환하는 데이터 구조에 따라 설정\nconsole.log(response.data.data);}catch(error){console.error('Error fetching running detail:',error);setError('런닝 유저를 불러오는 중 오류가 발생했습니다.');}finally{setLoading(false);}};fetchRunningUsers();},[id]);// 수정 버튼 클릭 시 처리\nconst handleEdit=()=>{};// 삭제 버튼 클릭 시 처리\nconst handleDelete=async()=>{try{await axiosInstance.delete(\"/api/runnings/delete/\".concat(id));alert('런닝이 성공적으로 삭제되었습니다.');navigate('/');}catch(error){alert(error.response.data.errorMessage);}};if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"p\",{children:error});}if(!running){return/*#__PURE__*/_jsx(\"p\",{children:\"Running not found.\"});}const handlePageChange=path=>{navigate(path);};return/*#__PURE__*/_jsxs(\"div\",{className:\"running-detail-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"running-detail\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"clickable\",onClick:()=>handlePageChange('/'),children:\"RUNNING CREW\"}),/*#__PURE__*/_jsx(\"div\",{className:\"user-info\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uB7F0\\uB2DD\\uC7A5: \",user.nickname]})}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\uC81C\\uBAA9: \",running.title]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uB0B4\\uC6A9: \",running.content]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC2DC\\uC791 \\uC9C0\\uC810: \",running.startLocation]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC0C1\\uC138: \",running.startDetailLocation]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uB3C4\\uCC29 \\uC9C0\\uC810: \",running.finishLocation]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC0C1\\uC138: \",running.finishDetailLocation]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uAC70\\uB9AC: \",running.distance,\"km\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC2DC\\uC791 \\uC2DC\\uAC04: \",running.time]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC81C\\uD55C \\uC778\\uC6D0: \",running.limitedPeople,\"\\uBA85\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleJoinTeam(),children:\"\\uCC38\\uAC00\\uD558\\uAE30\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEdit,children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,children:\"\\uC0AD\\uC81C\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uCC38\\uAC00\\uC720\\uC800\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"running-user-list\",children:runningUsers.map(runnningUser=>/*#__PURE__*/_jsx(\"li\",{className:\"running-user-item\",children:runnningUser.user.nickname},runnningUser.id))})]})]});};export default RunningDetailPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","axiosInstance","jsx","_jsx","jsxs","_jsxs","RunningDetailPage","id","running","setRunning","loading","setLoading","error","setError","user","setUser","navigate","runningUsers","setRunningUsers","currentUserEmail","setCurrentUserEmail","fetchRunningDetail","response","get","concat","data","console","handleJoinTeam","post","log","alert","errorMessage","fetchRunningUsers","handleEdit","handleDelete","delete","children","handlePageChange","path","className","onClick","nickname","title","content","startLocation","startDetailLocation","finishLocation","finishDetailLocation","distance","time","limitedPeople","map","runnningUser"],"sources":["/Users/kimsubong/Desktop/hello/runningCrew/src/pages/RunningDetailPage.js"],"sourcesContent":["// src/pages/RunningDetailPage.js\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axiosInstance from '../utils/axiosInstance';\nimport '../css/Running/RunningDetailPage.css'; // CSS 파일 import\n\n\nconst RunningDetailPage = () => {\n  const { id } = useParams();\n  const [running, setRunning] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [user, setUser] = useState('');\n  const navigate = useNavigate();\n  const [runningUsers, setRunningUsers] = useState([]);\n  const [currentUserEmail, setCurrentUserEmail] = useState(null); // 현재 로그인한 사용자 이메일 상태 추가\n\n\n  \n\n  // 런닝 게시판 데이터 가져오기\n  useEffect(() => {\n    const fetchRunningDetail = async () => {\n      try {\n        const response = await axiosInstance.get(`/api/runnings/get/${id}`);\n        setRunning(response.data.data); // API에서 반환하는 데이터 구조에 따라 설정\n        setUser(response.data.data.user);\n\n\n      } catch (error) {\n        console.error('Error fetching running detail:', error);\n        setError('런닝 상세 정보를 불러오는 중 오류가 발생했습니다.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchRunningDetail();\n  }, [id]);\n\n  // 런닝 참여하기\n  const handleJoinTeam = async () => {\n    try {\n      const response = await axiosInstance.post(`/api/runnings/users/join/${id}`);\n      console.log('Join team response:', response.data);\n      alert('팀에 성공적으로 합류했습니다.');\n      navigate('/');\n    } catch (error) {\n      console.error('Error joining team:', error);\n      alert(error.response.data.errorMessage);\n    }\n  };\n\n  // 런닝유저 불러오기\n  useEffect(() => {\n    const fetchRunningUsers = async () => {\n      try {\n        const response = await axiosInstance.post(`/api/runnings/users/get/${id}`);\n        setRunningUsers(response.data.data); // API에서 반환하는 데이터 구조에 따라 설정\n        console.log(response.data.data);\n      } catch (error) {\n        console.error('Error fetching running detail:', error);\n        setError('런닝 유저를 불러오는 중 오류가 발생했습니다.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchRunningUsers();\n  }, [id]);\n\n\n  \n\n\n    // 수정 버튼 클릭 시 처리\n    const handleEdit = () => {\n \n      };\n    \n      // 삭제 버튼 클릭 시 처리\n      const handleDelete = async () => {\n        try {\n          await axiosInstance.delete(`/api/runnings/delete/${id}`);\n          alert('런닝이 성공적으로 삭제되었습니다.');\n          navigate('/');\n        } catch (error) {\n          alert(error.response.data.errorMessage);\n        }\n      };\n\n  if (loading) {\n    return <p>Loading...</p>;\n  }\n\n  if (error) {\n    return <p>{error}</p>;\n  }\n\n  if (!running) {\n    return <p>Running not found.</p>;\n  }\n\n  const handlePageChange = (path) => {\n    navigate(path);\n}\n\n\n\n\n\n  return (\n    <div className=\"running-detail-container\">\n      <div className=\"running-detail\">\n        <h2 className='clickable' onClick={() => handlePageChange('/')}>RUNNING CREW</h2>\n        <div className=\"user-info\">\n          <p>런닝장: {user.nickname}</p>\n        </div>\n        <h2>제목: {running.title}</h2>\n        <p>내용: {running.content}</p>\n        <p>시작 지점: {running.startLocation}</p>\n        <p>상세: {running.startDetailLocation}</p>\n        <p>도착 지점: {running.finishLocation}</p>\n        <p>상세: {running.finishDetailLocation}</p>\n        <p>거리: {running.distance}km</p>\n        <p>시작 시간: {running.time}</p>\n        <p>제한 인원: {running.limitedPeople}명</p>\n        <button onClick={() => handleJoinTeam()}>참가하기</button>\n          <div>\n            <button onClick={handleEdit}>수정</button>\n            <button onClick={handleDelete}>삭제</button>\n          </div>\n\n      </div>\n\n      <div>\n      <h2>참가유저</h2>\n\n      <ul className=\"running-user-list\">\n          {runningUsers.map((runnningUser) => (\n            <li key={runnningUser.id} className=\"running-user-item\">{runnningUser.user.nickname}</li>\n          ))}\n        </ul>\n    </div>\n\n    </div>\n  );\n};\n\nexport default RunningDetailPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}