{"ast":null,"code":"// src/utils/axiosInstance.js\nimport axios from'axios';const axiosInstance=axios.create({baseURL:'http://localhost:8080'});// 요청 인터셉터 추가\naxiosInstance.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>{return Promise.reject(error);});// 응답 인터셉터 추가\naxiosInstance.interceptors.response.use(response=>{return response;},error=>{const{response}=error;// 401 Unauthorized 오류일 경우에만 토큰 제거 및 리디렉션 처리\nif(response&&response.status===401){localStorage.removeItem('token');// 로컬 스토리지에서 토큰 제거\nwindow.location.href='/login';// 로그인 페이지로 리디렉션\n}return Promise.reject(error);// 기타 에러 처리\n});export default axiosInstance;","map":{"version":3,"names":["axios","axiosInstance","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","concat","error","Promise","reject","response","status","removeItem","window","location","href"],"sources":["/Users/kimsubong/Desktop/hello/runningCrew/src/utils/axiosInstance.js"],"sourcesContent":["// src/utils/axiosInstance.js\nimport axios from 'axios';\n\nconst axiosInstance = axios.create({\n  baseURL: 'http://localhost:8080',\n});\n\n// 요청 인터셉터 추가\naxiosInstance.interceptors.request.use(\n    (config) => {\n        const token = localStorage.getItem('token');\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n      },\n      (error) => {\n\n        return Promise.reject(error);\n      }\n);\n\n// 응답 인터셉터 추가\naxiosInstance.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    const { response } = error;\n    \n    // 401 Unauthorized 오류일 경우에만 토큰 제거 및 리디렉션 처리\n    if (response && response.status === 401) {\n      localStorage.removeItem('token'); // 로컬 스토리지에서 토큰 제거\n      window.location.href = '/login'; // 로그인 페이지로 리디렉션\n    }\n\n      return Promise.reject(error); // 기타 에러 처리\n  }\n);\n\nexport default axiosInstance;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,aAAa,CAAGD,KAAK,CAACE,MAAM,CAAC,CACjCC,OAAO,CAAE,uBACX,CAAC,CAAC,CAEF;AACAF,aAAa,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CACjCC,MAAM,EAAK,CACR,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIF,KAAK,CAAE,CACTD,MAAM,CAACI,OAAO,CAACC,aAAa,WAAAC,MAAA,CAAaL,KAAK,CAAE,CAClD,CACA,MAAO,CAAAD,MAAM,CACf,CAAC,CACAO,KAAK,EAAK,CAET,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC9B,CACN,CAAC,CAED;AACAb,aAAa,CAACG,YAAY,CAACa,QAAQ,CAACX,GAAG,CACpCW,QAAQ,EAAK,CACZ,MAAO,CAAAA,QAAQ,CACjB,CAAC,CACAH,KAAK,EAAK,CACT,KAAM,CAAEG,QAAS,CAAC,CAAGH,KAAK,CAE1B;AACA,GAAIG,QAAQ,EAAIA,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CACvCT,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC,CAAE;AAClCC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CAAE;AACnC,CAEE,MAAO,CAAAP,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAAE;AAClC,CACF,CAAC,CAED,cAAe,CAAAb,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}